---
layout: post
title:  "Angular"
categories: javascript
---
## The disavantiges of angularjs
1. there is not a canvas or SVG drawing drective in angularjs
2. too optioned

## Resources
* [year of moo](http://www.yearofmoo.com/) a blog that focus on AngularJs
* [angular tips](http://angular-tips.com/)
* [$watch & $apply](http://stackoverflow.com/questions/15112584/using-scope-watch-and-scope-apply)
* [An example of drag and drop in angularjs](http://css.dzone.com/articles/drag-and-drop-angularjs-using)

## Allow duplicate objects in ngRepeat.
__reading:__   
[Allow duplicate objects in ngRepeat](https://github.com/angular/angular.js/pull/2505)  
[Api: ngRepeat](http://docs.angularjs.org/api/ng.directive:ngRepeat)  

___

`ng-repeat='i in [1,1,1]'` is now allowed  

but this will do what you want:  
`ng-repeat='i in [1,1,1] track by $index'` 


## `Error: Template must have exactly one root element.`
[angularjs why doesnt replace true work with templateurl property](http://stackoverflow.com/questions/11426114/angularjs-why-doesnt-replace-true-work-with-templateurl-property)

if the template root have more than one element, this error occur, it's must wrapped in one element.

## `REFERENCING DOM NODES IN ANGULAR EXPRESSIONS IS DISALLOWED`
[REFERENCING DOM NODES IN ANGULAR EXPRESSIONS IS DISALLOWED](http://jorshasaur.us/referencing-dom-nodes-in-angular-expressions-is-disallowed/)

this often occur when you using coffeescript.

Follow this chain to find the culprit:

1. Check out the callback you're triggering in your template (probably through something like ng-click).

2. Look at the callback function in your directive. Is the last line in the function in some way deal with the DOM?

3. If that directive doesn't implicitly specify a return value, just add a return true to the bottom.

## get event element

in the Dom side use `$event` to pass reference:  
`ng-click="do($event)"`

then in script:  
`event.target` to get the element.

## check for changes in file input fields

[AngularJs: How to check for changes in file input fields?](http://stackoverflow.com/questions/17922557/angularjs-how-to-check-for-changes-in-file-input-fields)

since `ng-change` doesn't work in `<input type="file" ng-change="validate()" />`

should edit as below:

`<input type="file" onchange="angular.element(this).scope().validate(this)" />`

this example maybe as a tutorial:
[drag drop file upload](http://jsfiddle.net/danielzen/utp7j/)

## when minify occur "Error: Unknown provider: bProvider <- b"

[Error: Unknown provider: bProvider <- b](https://groups.google.com/forum/#!topic/angular/2gpf8Ea-PFQ)

[Dependency Injection](http://docs.angularjs.org/guide/di)

maybe you should change the code:

```js
someModule.controller('MyController', function($scope, dep1, dep2) {
  ...
  $scope.aMethod = function() {
  ...
  }
  ...
});
```
to:

```js
someModule.controller('MyController', ['$scope', 'dep1', 'dep2', function($scope, dep1, dep2) {
  ...
  $scope.aMethod = function() {
  ...
  }
  ...
}]);
```

## directive restrict="M"
* PS: template must have a root element.

```js
.directive('myCustomer', function() {
  return {
    restrict: 'M',
    replace: true,
    template: '<div>Name: {{customer.name}} Address: {{customer.address}}</div>'
  };
});
```
